---
/**
 * TRACKWISE - Corporate Services Section
 * Company incorporation and compliance
 */
import ModuleTag from '@/components/ui/ModuleTag.astro';
import SectionLabel from '@/components/ui/SectionLabel.astro';
import { corporateServices } from '@/data/site';
import { getLangFromUrl, useTranslations } from '@/i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const corpContent: Record<string, { title: string; description: string; services: Array<{ title: string; description: string }> }> = {
  en: {
    title: 'Global Company Constitution',
    description: "We don't just build the tech; we build the legal entity. Full service company formation in Hong Kong, Singapore, and Offshore jurisdictions optimized for Fintech, Web3, and digital commerce.",
    services: [
      { title: 'Company Incorporation', description: 'End-to-end entity setup with nominee directors, registered address, and banking introduction.' },
      { title: 'Compliance & Licensing', description: 'MSB, MTL, EMI licensing support and ongoing compliance monitoring.' },
      { title: 'Tax Optimization', description: 'Strategic jurisdiction selection and transfer pricing structures.' },
    ],
  },
  es: {
    title: 'Constitución Global de Empresas',
    description: 'No solo construimos la tecnología; construimos la entidad legal. Formación completa de empresas en Hong Kong, Singapur y jurisdicciones offshore optimizadas para Fintech, Web3 y comercio digital.',
    services: [
      { title: 'Incorporación de Empresas', description: 'Configuración completa con directores nominados, dirección registrada e introducción bancaria.' },
      { title: 'Compliance y Licencias', description: 'Soporte para licencias MSB, MTL, EMI y monitoreo continuo de compliance.' },
      { title: 'Optimización Fiscal', description: 'Selección estratégica de jurisdicciones y estructuras de precios de transferencia.' },
    ],
  },
  pt: {
    title: 'Constituição Global de Empresas',
    description: 'Não construímos apenas a tecnologia; construímos a entidade legal. Formação completa de empresas em Hong Kong, Singapura e jurisdições offshore otimizadas para Fintech, Web3 e comércio digital.',
    services: [
      { title: 'Incorporação de Empresas', description: 'Configuração completa com diretores nominados, endereço registrado e introdução bancária.' },
      { title: 'Compliance e Licenças', description: 'Suporte para licenças MSB, MTL, EMI e monitoramento contínuo de compliance.' },
      { title: 'Otimização Fiscal', description: 'Seleção estratégica de jurisdições e estruturas de preços de transferência.' },
    ],
  },
  zh: {
    title: '全球公司设立',
    description: '我们不仅构建技术；我们还构建法律实体。在香港、新加坡和离岸司法管辖区提供完整的公司设立服务，专为金融科技、Web3和数字商务优化。',
    services: [
      { title: '公司注册', description: '完整的实体设置，包括代名董事、注册地址和银行开户介绍。' },
      { title: '合规与牌照', description: 'MSB、MTL、EMI牌照支持和持续合规监控。' },
      { title: '税务优化', description: '战略性司法管辖区选择和转让定价结构。' },
    ],
  },
  ar: {
    title: 'تأسيس الشركات العالمية',
    description: 'نحن لا نبني التكنولوجيا فحسب؛ بل نبني الكيان القانوني. تأسيس شركات كاملة الخدمات في هونغ كونغ وسنغافورة والولايات القضائية الخارجية المحسنة للتكنولوجيا المالية وWeb3 والتجارة الرقمية.',
    services: [
      { title: 'تأسيس الشركات', description: 'إعداد كيان شامل مع مديرين مرشحين وعنوان مسجل ومقدمة مصرفية.' },
      { title: 'الامتثال والترخيص', description: 'دعم تراخيص MSB وMTL وEMI ومراقبة الامتثال المستمر.' },
      { title: 'تحسين الضرائب', description: 'اختيار الولاية القضائية الاستراتيجية وهياكل أسعار التحويل.' },
    ],
  },
};

const content = corpContent[lang] || corpContent.en;
---

<section id="section-corp" class="py-24 border-b border-white/5 bg-tw-black relative">
  <!-- Module Tag -->
  <div class="absolute top-0 right-0 p-4 z-20">
    <ModuleTag number="03" />
  </div>
  
  <div class="max-w-7xl mx-auto px-6 lg:px-12">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <!-- Left Content -->
      <div class="space-y-8">
        <div>
          <SectionLabel icon="solar:city-linear" color="yellow">
            {t.corporate.label}
          </SectionLabel>
          
          <h2 class="text-4xl font-medium text-white uppercase tracking-tight mb-6 sys-reveal sys-rise">
            {content.title}
          </h2>
          
          <p class="text-zinc-400 font-mono text-sm leading-relaxed border-l-2 border-zinc-700 pl-4 sys-reveal sys-rise sys-delay-100">
            {content.description}
          </p>
        </div>

        <!-- Jurisdictions -->
        <div class="flex flex-wrap gap-2 sys-reveal sys-rise sys-delay-100">
          {['Hong Kong', 'Singapore', 'BVI', 'Cayman', 'Seychelles', 'UK', 'Delaware'].map((jurisdiction) => (
            <span class="text-[9px] border border-yellow-500/30 text-yellow-400 px-3 py-1 rounded bg-yellow-500/5 font-mono uppercase">
              {jurisdiction}
            </span>
          ))}
        </div>

        <!-- Services List -->
        <div class="space-y-4">
          {content.services.map((service, index) => (
            <div 
              class:list={[
                "flex items-start gap-4 p-4 glass-panel rounded border border-white/5",
                "hover:border-yellow-500/30 transition-colors cursor-pointer group",
                "sys-reveal sys-rise",
                index > 0 && `sys-delay-${index}00`
              ]}
            >
              <iconify-icon 
                icon={corporateServices[index]?.icon || 'solar:building-linear'} 
                class="text-zinc-500 group-hover:text-yellow-500 text-xl mt-1 transition-colors"
              ></iconify-icon>
              <div>
                <h4 class="text-white text-sm font-medium uppercase">{service.title}</h4>
                <p class="text-[11px] text-zinc-500 font-mono mt-1 leading-relaxed">{service.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Right Visual -->
      <div class="relative h-[500px] glass-panel border border-white/10 rounded-xl overflow-hidden flex items-center justify-center bg-zinc-900/20 sys-reveal sys-slide-r">
        <!-- Grid Background -->
        <div class="absolute inset-0 grid grid-cols-[repeat(20,1fr)] grid-rows-[repeat(20,1fr)] opacity-10" aria-hidden="true">
          <div class="border-r border-b border-white"></div>
        </div>
        
        <!-- Corporate Structure Diagram -->
        <div class="relative w-72 h-72">
          <!-- Central Node -->
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-yellow-500/10 rounded-full border border-yellow-500 flex items-center justify-center z-10 shadow-[0_0_30px_rgba(234,179,8,0.2)]">
            <iconify-icon icon="solar:buildings-2-linear" class="text-yellow-500 text-3xl"></iconify-icon>
          </div>
          
          <!-- Orbiting Satellites -->
          <div class="absolute top-0 left-1/2 -translate-x-1/2 w-12 h-12 bg-zinc-800 rounded-full border border-zinc-700 flex items-center justify-center text-zinc-400 hover:border-yellow-500/50 hover:text-yellow-500 transition-colors">
            <iconify-icon icon="solar:user-id-linear" width="20"></iconify-icon>
          </div>
          <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-12 bg-zinc-800 rounded-full border border-zinc-700 flex items-center justify-center text-zinc-400 hover:border-yellow-500/50 hover:text-yellow-500 transition-colors">
            <iconify-icon icon="solar:wallet-money-linear" width="20"></iconify-icon>
          </div>
          <div class="absolute left-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-zinc-800 rounded-full border border-zinc-700 flex items-center justify-center text-zinc-400 hover:border-yellow-500/50 hover:text-yellow-500 transition-colors">
            <iconify-icon icon="solar:file-check-linear" width="20"></iconify-icon>
          </div>
          <div class="absolute right-0 top-1/2 -translate-y-1/2 w-12 h-12 bg-zinc-800 rounded-full border border-zinc-700 flex items-center justify-center text-zinc-400 hover:border-yellow-500/50 hover:text-yellow-500 transition-colors">
            <iconify-icon icon="solar:global-linear" width="20"></iconify-icon>
          </div>

          <!-- Diagonal Satellites -->
          <div class="absolute top-[15%] left-[15%] w-10 h-10 bg-zinc-800/50 rounded-full border border-zinc-700/50 flex items-center justify-center text-zinc-500 hover:border-yellow-500/30 hover:text-yellow-500/70 transition-colors">
            <iconify-icon icon="solar:shield-check-linear" width="16"></iconify-icon>
          </div>
          <div class="absolute top-[15%] right-[15%] w-10 h-10 bg-zinc-800/50 rounded-full border border-zinc-700/50 flex items-center justify-center text-zinc-500 hover:border-yellow-500/30 hover:text-yellow-500/70 transition-colors">
            <iconify-icon icon="solar:chart-linear" width="16"></iconify-icon>
          </div>
          <div class="absolute bottom-[15%] left-[15%] w-10 h-10 bg-zinc-800/50 rounded-full border border-zinc-700/50 flex items-center justify-center text-zinc-500 hover:border-yellow-500/30 hover:text-yellow-500/70 transition-colors">
            <iconify-icon icon="solar:scale-linear" width="16"></iconify-icon>
          </div>
          <div class="absolute bottom-[15%] right-[15%] w-10 h-10 bg-zinc-800/50 rounded-full border border-zinc-700/50 flex items-center justify-center text-zinc-500 hover:border-yellow-500/30 hover:text-yellow-500/70 transition-colors">
            <iconify-icon icon="solar:lock-keyhole-linear" width="16"></iconify-icon>
          </div>

          <!-- Connecting Lines -->
          <svg class="absolute inset-0 w-full h-full pointer-events-none text-zinc-700" style="z-index: 0;" aria-hidden="true">
            <line x1="50%" y1="50%" x2="50%" y2="8%" stroke="currentColor" stroke-width="1" stroke-dasharray="4 4"></line>
            <line x1="50%" y1="50%" x2="50%" y2="92%" stroke="currentColor" stroke-width="1" stroke-dasharray="4 4"></line>
            <line x1="50%" y1="50%" x2="8%" y2="50%" stroke="currentColor" stroke-width="1" stroke-dasharray="4 4"></line>
            <line x1="50%" y1="50%" x2="92%" y2="50%" stroke="currentColor" stroke-width="1" stroke-dasharray="4 4"></line>
            <line x1="50%" y1="50%" x2="20%" y2="20%" stroke="currentColor" stroke-width="1" stroke-dasharray="3 3" opacity="0.5"></line>
            <line x1="50%" y1="50%" x2="80%" y2="20%" stroke="currentColor" stroke-width="1" stroke-dasharray="3 3" opacity="0.5"></line>
            <line x1="50%" y1="50%" x2="20%" y2="80%" stroke="currentColor" stroke-width="1" stroke-dasharray="3 3" opacity="0.5"></line>
            <line x1="50%" y1="50%" x2="80%" y2="80%" stroke="currentColor" stroke-width="1" stroke-dasharray="3 3" opacity="0.5"></line>
          </svg>
        </div>

        <!-- Labels -->
        <div class="absolute bottom-6 left-6 right-6 flex justify-between text-[9px] font-mono text-zinc-600 uppercase">
          <span>{t.corporate.holding}</span>
          <span>{t.corporate.multiJurisdiction}</span>
        </div>
      </div>
    </div>
  </div>
</section>
